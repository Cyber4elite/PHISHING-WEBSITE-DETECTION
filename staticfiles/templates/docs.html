<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="PhishShield API Documentation - Detect phishing links programmatically">
    <title>API Documentation - PhishShield</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/simple.css' %}">
    <style>
        .hero-docs {
            background: #f8f9fa;
            padding: 4rem 0;
            text-align: center;
        }
        
        .hero-docs h1 {
            font-size: 3rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 1rem;
        }
        
        .hero-docs p {
            font-size: 1.25rem;
            color: #666;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .docs-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem 0;
        }
        
        .endpoint {
            background: #fff;
            border: 1px solid #e5e5e5;
            border-radius: 8px;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        
        .endpoint-header {
            background: #f8f9fa;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e5e5e5;
        }
        
        .endpoint-method {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.875rem;
            margin-right: 1rem;
        }
        
        .method-get {
            background: #d4edda;
            color: #155724;
        }
        
        .method-post {
            background: #cce5ff;
            color: #004085;
        }
        
        .endpoint-url {
            font-family: 'Courier New', monospace;
            font-size: 1.125rem;
            color: #333;
        }
        
        .endpoint-content {
            padding: 1.5rem;
        }
        
        .endpoint-content h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1rem;
        }
        
        .endpoint-content p {
            color: #666;
            margin-bottom: 1rem;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e5e5e5;
            border-radius: 6px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        
        .code-block pre {
            margin: 0;
            white-space: pre-wrap;
        }
        
        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        
        .param-table th,
        .param-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #e5e5e5;
        }
        
        .param-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
        }
        
        .param-table td {
            color: #666;
        }
        
        .param-name {
            font-family: 'Courier New', monospace;
            font-weight: 600;
            color: #333;
        }
        
        .param-required {
            color: #dc3545;
        }
        
        .param-optional {
            color: #6c757d;
        }
        
        .response-example {
            background: #f8f9fa;
            border: 1px solid #e5e5e5;
            border-radius: 6px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .response-example h4 {
            margin-bottom: 0.5rem;
            color: #333;
        }
        
        .rate-limits {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 1rem;
            margin: 2rem 0;
        }
        
        .rate-limits h3 {
            color: #856404;
            margin-bottom: 0.5rem;
        }
        
        .rate-limits p {
            color: #856404;
            margin-bottom: 0;
        }
        
        .error-codes {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 6px;
            padding: 1rem;
            margin: 2rem 0;
        }
        
        .error-codes h3 {
            color: #721c24;
            margin-bottom: 0.5rem;
        }
        
        .error-codes p {
            color: #721c24;
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <nav class="nav">
                <div class="nav-brand">
                    <h1 class="logo">PhishShield</h1>
                </div>
                <div class="nav-links">
                    <a href="{% url 'scanner:home' %}" class="nav-link">Home</a>
                    <a href="{% url 'scanner:scan' %}" class="nav-link">Scan</a>
                    <a href="#about" class="nav-link">About</a>
                    <a href="#docs" class="nav-link">Docs</a>
                    <a href="#pricing" class="nav-link">Pricing</a>
                    <a href="#contact" class="nav-link">Contact</a>
                </div>
            </nav>
        </div>
    </header>

    <main class="main-content">
        <section class="hero-docs">
            <div class="container">
                <h1>Phishing Detection API</h1>
                <p>Integrate PhishShield's powerful phishing detection into your applications with our simple REST API</p>
            </div>
        </section>

        <section class="docs-content">
            <div class="container">
                <!-- Authentication -->
                <div class="endpoint">
                    <div class="endpoint-header">
                        <h2>Authentication</h2>
                    </div>
                    <div class="endpoint-content">
                        <p>All API requests require an API key in the Authorization header:</p>
                        <div class="code-block">
                            <pre>Authorization: Bearer YOUR_API_KEY</pre>
                        </div>
                        <p>Get your API key from the <a href="#pricing">Pricing</a> page after signing up.</p>
                    </div>
                </div>

                <!-- Scan Endpoint -->
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="endpoint-method method-post">POST</span>
                        <span class="endpoint-url">/api/v1/scan</span>
                    </div>
                    <div class="endpoint-content">
                        <h3>Scan a URL</h3>
                        <p>Analyze a URL for phishing threats and return detailed results.</p>
                        
                        <h4>Request Body</h4>
                        <table class="param-table">
                            <thead>
                                <tr>
                                    <th>Parameter</th>
                                    <th>Type</th>
                                    <th>Required</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="param-name">url</span></td>
                                    <td>string</td>
                                    <td><span class="param-required">Yes</span></td>
                                    <td>The URL to analyze</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">include_evidence</span></td>
                                    <td>boolean</td>
                                    <td><span class="param-optional">No</span></td>
                                    <td>Include detailed evidence (default: true)</td>
                                </tr>
                                <tr>
                                    <td><span class="param-name">include_features</span></td>
                                    <td>boolean</td>
                                    <td><span class="param-optional">No</span></td>
                                    <td>Include extracted features (default: true)</td>
                                </tr>
                            </tbody>
                        </table>

                        <h4>Example Request</h4>
                        <div class="code-block">
                            <pre>curl -X POST "https://api.phishshield.com/v1/scan" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://example.com/login?id=123",
    "include_evidence": true,
    "include_features": true
  }'</pre>
                        </div>

                        <h4>JavaScript Example</h4>
                        <div class="code-block">
                            <pre>const response = await fetch('https://api.phishshield.com/v1/scan', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    url: 'https://example.com/login?id=123',
    include_evidence: true,
    include_features: true
  })
});

const result = await response.json();
console.log(result);</pre>
                        </div>

                        <h4>Response Example</h4>
                        <div class="response-example">
                            <h4>Success (200)</h4>
                            <div class="code-block">
                                <pre>{
  "url": "https://example.com/login?id=123",
  "verdict": "Safe",
  "score": 15,
  "confidence": 0.92,
  "indicators": [
    "Valid SSL certificate",
    "No suspicious keywords detected",
    "Short URL length (acceptable)",
    "Legitimate domain reputation"
  ],
  "recommendation": "This URL appears safe to visit. No security concerns detected.",
  "evidence": {
    "redirect_chain": ["https://example.com/login?id=123"],
    "whois": {
      "registrar": "Example Registrar Inc.",
      "creation_date": "2020-01-15",
      "expiration_date": "2025-01-15"
    },
    "ssl_info": {
      "valid": true,
      "issuer": "Let's Encrypt",
      "expires": "2024-12-31"
    }
  },
  "features": {
    "url_length": 32,
    "domain_length": 11,
    "is_https": true,
    "has_suspicious_keywords": false
  },
  "timestamp": "2024-09-09T16:30:45Z",
  "analysis_time_ms": 1250
}</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Rate Limits -->
                <div class="rate-limits">
                    <h3>Rate Limits</h3>
                    <p><strong>Free Tier:</strong> 10 requests per minute, 100 per day</p>
                    <p><strong>Pro Tier:</strong> 60 requests per minute, 10,000 per day</p>
                    <p><strong>Enterprise:</strong> 300 requests per minute, 100,000 per day</p>
                </div>

                <!-- Error Codes -->
                <div class="error-codes">
                    <h3>Error Codes</h3>
                    <p><strong>400 Bad Request:</strong> Invalid URL format or missing required parameters</p>
                    <p><strong>401 Unauthorized:</strong> Invalid or missing API key</p>
                    <p><strong>429 Too Many Requests:</strong> Rate limit exceeded</p>
                    <p><strong>500 Internal Server Error:</strong> Server error, please try again</p>
                </div>

                <!-- SDKs -->
                <div class="endpoint">
                    <div class="endpoint-header">
                        <h2>SDKs & Libraries</h2>
                    </div>
                    <div class="endpoint-content">
                        <h3>JavaScript/Node.js</h3>
                        <div class="code-block">
                            <pre>npm install @phishshield/sdk

import { PhishShield } from '@phishshield/sdk';

const client = new PhishShield('YOUR_API_KEY');
const result = await client.scan('https://example.com/login?id=123');
console.log(result.verdict);</pre>
                        </div>

                        <h3>Python</h3>
                        <div class="code-block">
                            <pre>pip install phishshield-sdk

from phishshield import PhishShield

client = PhishShield('YOUR_API_KEY')
result = client.scan('https://example.com/login?id=123')
print(result.verdict)</pre>
                        </div>

                        <h3>cURL</h3>
                        <div class="code-block">
                            <pre>curl -X POST "https://api.phishshield.com/v1/scan" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"url": "https://example.com/login?id=123"}'</pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="#docs">Docs</a>
                    <a href="#api">API</a>
                    <a href="#blog">Blog</a>
                    <a href="#privacy">Privacy</a>
                    <a href="#terms">Terms</a>
                </div>
                <div class="footer-cta">
                    <a href="{% url 'scanner:scan' %}" class="btn btn-primary">Get Started Free</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 PhishShield. All rights reserved.</p>
            </div>
        </div>
    </footer>
</body>
</html>
